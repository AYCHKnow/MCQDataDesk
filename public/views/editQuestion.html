<md-card id="editQuestionContainer">
    <form name="questionForm" ng-submit="submitQuestion()">
        <md-card-title>
            <md-card-title-text>
                <span class="md-headline">Create Question</span>
            </md-card-title-text>
        </md-card-title>
        <md-card-content autoscroll="350">
            <md-content layout-padding>
                <div>
                    <div layout="column">
                        <md-input-container class="md-block" flex="80"
                                            style="margin-bottom:0; margin-top:0; height:50px">
                            <label>Question</label>
                            <input required id="questionTitle{{tabID}}" type="text" name="questionTitle"
                                   ng-model="question.title"/>
                            <div ng-messages="questionForm.questionTitle.$error">
                                <div ng-message="required">A Question is required.</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block" flex style="margin-bottom:0; margin-top:0">
                            <label>Description</label>
                            <textarea ng-model="question.description"></textarea>
                        </md-input-container>
                        <div layout-gt-xs="row" style="margin-bottom:20px">
                            <md-chips ng-model="topic.selected" style="margin-right:7px; height:45px;"
                                      md-transform-chip="transformChipTopic($chip)"
                                      md-require-match="true" flex>
                                <md-chip-template>
                                    {{$chip.topicName}}
                                </md-chip-template>
                                <md-autocomplete md-no-cache="true" placeholder="Choose a Topic" md-min-length="0"
                                                 md-input-id="topicChooserInput" md-autocomplete-snap
                                                 md-search-text="topic.searchQuery" md-items="topic in searchTopics()"
                                                 md-select-on-match>
                                    <md-item-template>
                                        <span md-highlight-text="searchQueryTopic()" md-highlight-flags="i">
                                            {{topic.topicName}}
                                        </span>
                                    </md-item-template>
                                    <md-not-found>
                                        <div ng-click="createTopic()"
                                             style="height:100%;width:100%; outline:none;border:0">Create New Topic
                                        </div>
                                    </md-not-found>
                                </md-autocomplete>
                            </md-chips>

                            <md-chips required ng-model="objective.selected" style="margin-left:7px; height:45px;"
                                      md-transform-chip="transformChipObjective($chip)"
                                      md-require-match="true" md-autocomplete-snap flex>
                                <md-autocomplete md-no-cache="true" placeholder="Add an Objective" md-min-length="0"
                                                 md-input-id="objectiveChooserInput"
                                                 md-search-text="objective.searchQuery"
                                                 md-items="objective in searchObjectives()" md-select-on-match>
                                    <span md-highlight-text="searchQueryObjective()" md-highlight-flags="i">
                                        {{objective.objectiveText}}
                                    </span>
                                    <md-not-found>
                                        <div ng-click="createObjective()"
                                             style="height:100%;width:100%; outline:none;border:0">Create New Objective
                                        </div>
                                    </md-not-found>
                                </md-autocomplete>
                            </md-chips>
                        </div>

                        <div layout="row" style="margin-bottom:15px">
                            <span style="padding-right:10px">Question Type:</span>
                            <md-radio-group ng-model="question.type" class="md-primary" layout="row">
                                <md-radio-button value="MC">Multiple Choice</md-radio-button>
                                <md-radio-button value="MA">Multiple Answers</md-radio-button>
                                <md-radio-button value="TF"> True/False</md-radio-button>
                            </md-radio-group>
                        </div>

                        <fieldset class="standard">
                            <legend>Answers</legend>
                                <md-radio-group ng-model="question.correctAnswer" class="md-primary">
                                    <div ng-repeat="answer in question.answers" layout="row">
                                        <md-radio-button aria-label="Answer" ng-if="useRadio()" ng-value="answer.text"
                                                         ng-disabled="!answer.text"
                                                         style="margin-bottom:0; height:36px"></md-radio-button>
                                        <md-checkbox aria-label="Answer" ng-if="question.type === 'MA'"
                                                     ng-model="answer.correct" ng-disabled="!answer.text"
                                                     class="md-primary"
                                                     style="top:7px"></md-checkbox>
                                        <md-input-container md-no-float
                                                            style="margin-bottom:0; margin-top:0; height:25px">
                                            <input id="questionAnswer{{$index}}" ng-model="answer.text" placeholder="Answer"/>
                                        </md-input-container>
                                    </div>
                                </md-radio-group>
                        </fieldset>

                    </div>
                </div>
            </md-content>
        </md-card-content>
        <md-card-actions>
            <div layout="row">
                <span flex></span>
                <md-button ng-click="cleanup()">Cancel</md-button>
                <md-button type="submit" class="md-primary">
                    Create
                </md-button>
            </div>
        </md-card-actions>
    </form>
</md-card>